<div class="main-header">
  <h2>Layer 14 â€” Debug Mode & Stress test</h2>
  <p>Verify robustness against invalid values, performance warnings, and memory management.</p>
</div>

<div class="demo-layout">
  <div class="demo-canvas-container">
    <div id="scene-container" style="width: 100%; height: 500px; background: #1a1a1a; border-radius: 8px; border: 1px solid #333;"></div>
  </div>

  <div class="demo-controls-sidebar">
    <div class="card">
      <h3>Global Settings</h3>
      <div class="control-group">
        <label>Debug Mode</label>
        <div class="toggle-group">
          <button id="debug-on" class="toggle-btn">ON</button>
          <button id="debug-off" class="toggle-btn active">OFF</button>
        </div>
      </div>
    </div>

    <div class="card">
      <h3>Stress Test</h3>
      <div class="control-group">
        <label>Element Count: <span id="count-val">0</span></label>
        <input type="range" id="count-slider" min="0" max="2000" step="100" value="0">
      </div>
      <div class="control-group">
        <label>Cache Group</label>
        <div class="toggle-group">
          <button id="cache-on" class="toggle-btn">ON</button>
          <button id="cache-off" class="toggle-btn active">OFF</button>
        </div>
      </div>
      <p class="hint">In Debug Mode, >500 elements without cache triggers a warning.</p>
    </div>

    <div class="card">
      <h3>Error Conventions</h3>
      <div class="button-grid">
        <button id="btn-nan" class="btn">Set alpha = NaN</button>
        <button id="btn-inf" class="btn">Set x = Infinity</button>
        <button id="btn-zero-scale" class="btn">Set scale = 0</button>
      </div>
    </div>

    <div class="card">
      <h3>Memory Management</h3>
      <div class="button-grid">
        <button id="btn-destroy" class="btn btn-danger">Destroy Scene</button>
        <button id="btn-reinit" class="btn">Re-init Scene</button>
      </div>
      <p class="hint">Check console after GC if Scene was leaked (requires Debug=ON).</p>
    </div>

    <div class="card">
      <h3>Debug Logs</h3>
      <div id="debug-logs" style="font-family: monospace; font-size: 11px; color: #aaa; height: 150px; overflow-y: auto; background: #000; padding: 8px; border-radius: 4px;">
        <div style="color: #666;">No logs yet...</div>
      </div>
      <button id="clear-logs" class="btn" style="margin-top: 8px; width: 100%;">Clear Logs</button>
    </div>
  </div>
</div>
