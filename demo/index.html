<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CanvasUI — Demo</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --bg-primary: #0a0a0f;
      --bg-secondary: #12121a;
      --bg-card: #1a1a26;
      --bg-hover: #22222e;
      --border: #2a2a3a;
      --border-active: #5b5bf0;
      --text-primary: #e8e8f0;
      --text-secondary: #8888a0;
      --text-muted: #55556a;
      --accent: #6c6cf0;
      --accent-glow: rgba(108, 108, 240, 0.15);
      --success: #4ae08a;
      --font: system-ui, -apple-system, 'Segoe UI', Roboto, sans-serif;
      --font-mono: 'SF Mono', 'Fira Code', 'Cascadia Code', monospace;
      --sidebar-width: 260px;
      --transition: 150ms ease;
    }

    body {
      font-family: var(--font);
      background: var(--bg-primary);
      color: var(--text-primary);
      height: 100vh;
      overflow: hidden;
      display: flex;
    }

    /* ── Sidebar ────────────────────────────── */
    .sidebar {
      width: var(--sidebar-width);
      min-width: var(--sidebar-width);
      background: var(--bg-secondary);
      border-right: 1px solid var(--border);
      display: flex;
      flex-direction: column;
      height: 100vh;
    }

    .sidebar-header {
      padding: 24px 20px 20px;
      border-bottom: 1px solid var(--border);
    }

    .sidebar-header h1 {
      font-size: 18px;
      font-weight: 700;
      letter-spacing: -0.02em;
      background: linear-gradient(135deg, #8b8bf8, #6c6cf0, #5252e0);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .sidebar-header .version {
      font-size: 11px;
      font-family: var(--font-mono);
      color: var(--text-muted);
      margin-top: 4px;
    }

    .nav {
      flex: 1;
      overflow-y: auto;
      padding: 12px 8px;
    }

    .nav-section {
      margin-bottom: 8px;
    }

    .nav-section-title {
      font-size: 10px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--text-muted);
      padding: 8px 12px 6px;
    }

    .nav-link {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 8px 12px;
      border-radius: 6px;
      font-size: 13px;
      color: var(--text-secondary);
      text-decoration: none;
      cursor: pointer;
      transition: all var(--transition);
      user-select: none;
    }

    .nav-link:hover:not(.disabled) {
      background: var(--bg-hover);
      color: var(--text-primary);
    }

    .nav-link.active {
      background: var(--accent-glow);
      color: var(--accent);
      border: 1px solid rgba(108, 108, 240, 0.2);
    }

    .nav-link.disabled {
      opacity: 0.3;
      cursor: not-allowed;
    }

    .nav-dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: var(--text-muted);
      flex-shrink: 0;
    }

    .nav-link.active .nav-dot {
      background: var(--accent);
      box-shadow: 0 0 6px var(--accent);
    }

    /* ── Main Content ──────────────────────── */
    .main {
      flex: 1;
      overflow-y: auto;
      padding: 32px 40px;
    }

    .main-header {
      margin-bottom: 32px;
    }

    .main-header h2 {
      font-size: 24px;
      font-weight: 700;
      letter-spacing: -0.02em;
      margin-bottom: 6px;
    }

    .main-header p {
      font-size: 14px;
      color: var(--text-secondary);
      line-height: 1.6;
    }

    /* ── Panel Card ─────────────────────────── */
    .panel {
      display: none;
    }

    .panel.active {
      display: block;
    }

    .card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 32px;
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(108, 108, 240, 0.3), transparent);
    }

    .status-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 12px;
      border-radius: 100px;
      font-size: 12px;
      font-weight: 600;
      font-family: var(--font-mono);
      margin-bottom: 16px;
    }

    .status-badge.ready {
      background: rgba(74, 224, 138, 0.1);
      color: var(--success);
      border: 1px solid rgba(74, 224, 138, 0.2);
    }

    .status-badge .pulse {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: currentColor;
      animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.4; }
    }

    .card h3 {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 12px;
    }

    .card p {
      font-size: 14px;
      color: var(--text-secondary);
      line-height: 1.7;
    }

    .checklist {
      list-style: none;
      margin-top: 20px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .checklist li {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 13px;
      color: var(--text-secondary);
      font-family: var(--font-mono);
    }

    .checklist .check {
      width: 16px;
      height: 16px;
      border-radius: 4px;
      border: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
    }

    .checklist .check.done {
      background: var(--success);
      border-color: var(--success);
    }

    .checklist .check.done::after {
      content: '✓';
      font-size: 10px;
      color: var(--bg-primary);
      font-weight: 700;
    }

    /* ── Scrollbar ──────────────────────────── */
    ::-webkit-scrollbar {
      width: 6px;
    }

    ::-webkit-scrollbar-track {
      background: transparent;
    }

    ::-webkit-scrollbar-thumb {
      background: var(--border);
      border-radius: 3px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--text-muted);
    }
  </style>
</head>
<body>
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <h1>CanvasUI</h1>
      <div class="version">v0.0.1 — Demo</div>
    </div>
    <nav class="nav">
      <div class="nav-section">
        <div class="nav-section-title">Foundation</div>
        <a class="nav-link active" data-panel="layer-0">
          <span class="nav-dot"></span> Layer 0 — Scaffold
        </a>
        <a class="nav-link disabled" data-panel="layer-1">
          <span class="nav-dot"></span> Layer 1 — Math
        </a>
        <a class="nav-link disabled" data-panel="layer-2">
          <span class="nav-dot"></span> Layer 2 — Events
        </a>
      </div>
      <div class="nav-section">
        <div class="nav-section-title">Core</div>
        <a class="nav-link disabled" data-panel="layer-3">
          <span class="nav-dot"></span> Layer 3 — Elements
        </a>
        <a class="nav-link disabled" data-panel="layer-4">
          <span class="nav-dot"></span> Layer 4 — Containers
        </a>
        <a class="nav-link disabled" data-panel="layer-5">
          <span class="nav-dot"></span> Layer 5 — Ticker
        </a>
      </div>
      <div class="nav-section">
        <div class="nav-section-title">Rendering</div>
        <a class="nav-link disabled" data-panel="layer-6">
          <span class="nav-dot"></span> Layer 6 — Context
        </a>
        <a class="nav-link disabled" data-panel="layer-7">
          <span class="nav-dot"></span> Layer 7 — Scene
        </a>
      </div>
      <div class="nav-section">
        <div class="nav-section-title">Features</div>
        <a class="nav-link disabled" data-panel="layer-8">
          <span class="nav-dot"></span> Layer 8 — Layout
        </a>
        <a class="nav-link disabled" data-panel="layer-9">
          <span class="nav-dot"></span> Layer 9 — Interaction
        </a>
        <a class="nav-link disabled" data-panel="layer-10">
          <span class="nav-dot"></span> Layer 10 — Text
        </a>
        <a class="nav-link disabled" data-panel="layer-11">
          <span class="nav-dot"></span> Layer 11 — Text Input
        </a>
        <a class="nav-link disabled" data-panel="layer-12">
          <span class="nav-dot"></span> Layer 12 — Images
        </a>
        <a class="nav-link disabled" data-panel="layer-13">
          <span class="nav-dot"></span> Layer 13 — Animation
        </a>
        <a class="nav-link disabled" data-panel="layer-14">
          <span class="nav-dot"></span> Layer 14 — Scroll
        </a>
      </div>
      <div class="nav-section">
        <div class="nav-section-title">Polish</div>
        <a class="nav-link disabled" data-panel="layer-15">
          <span class="nav-dot"></span> Layer 15 — Debug
        </a>
        <a class="nav-link disabled" data-panel="layer-16">
          <span class="nav-dot"></span> Layer 16 — Bundle
        </a>
      </div>
    </nav>
  </aside>

  <!-- Main Content -->
  <main class="main">
    <!-- Layer 0 Panel -->
    <div id="layer-0" class="panel active">
      <div class="main-header">
        <h2>Layer 0 — Scaffold Ready</h2>
        <p>Project skeleton, build pipeline, and live-reloading dev server are up and running.</p>
      </div>
      <div class="card">
        <div class="status-badge ready">
          <span class="pulse"></span> Pipeline Active
        </div>
        <h3>Hello, CanvasUI</h3>
        <p>
          The project scaffold is complete. This demo site will grow with each layer —
          new panels will appear in the sidebar as features are implemented.
        </p>
        <ul class="checklist">
          <li><span class="check done"></span> Project structure</li>
          <li><span class="check done"></span> TypeScript config</li>
          <li><span class="check done"></span> Build pipeline</li>
          <li><span class="check done"></span> Dev server</li>
          <li><span class="check done"></span> Live reload</li>
          <li><span class="check done"></span> Demo shell</li>
        </ul>
      </div>
    </div>
  </main>

  <!-- Nav interaction -->
  <script>
    document.querySelectorAll('.nav-link:not(.disabled)').forEach(link => {
      link.addEventListener('click', () => {
        // Update nav
        document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
        link.classList.add('active');
        // Update panel
        const panelId = link.dataset.panel;
        document.querySelectorAll('.panel').forEach(p => p.classList.remove('active'));
        const panel = document.getElementById(panelId);
        if (panel) panel.classList.add('active');
      });
    });
  </script>

  <!-- Live Reload -->
  <script>
    (function() {
      let reconnectTimer;
      function connect() {
        const ws = new WebSocket(`ws://${location.host}/__livereload`);
        ws.onmessage = (e) => {
          if (e.data === 'reload') location.reload();
        };
        ws.onclose = () => {
          clearTimeout(reconnectTimer);
          reconnectTimer = setTimeout(connect, 1000);
        };
        ws.onerror = () => ws.close();
      }
      connect();
    })();
  </script>
</body>
</html>
